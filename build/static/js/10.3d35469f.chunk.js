(this.webpackJsonpccapp=this.webpackJsonpccapp||[]).push([[10],{188:function(e,t,a){"use strict";a.d(t,"a",(function(){return j}));var r=a(16),n=a(0),i=a.n(n),s=a(132),c=a(471),l=a(599),o=a(598),d=a(57),u=a(36),m=a(56),f=a.n(m),h=a(133),b=a(3);function j(){var e=i.a.useState(null),t=Object(r.a)(e,2),a=t[0],n=t[1],m=i.a.useContext(u.a),j=m.stocksState.stocks.quotes,x=m.authState.auth.data;return i.a.useEffect((function(){if(x&&null===j)f.a.get(d.a+"/api/stats",{headers:{Authorization:"Brearer ".concat(x.token)}}).then((function(e){var t={totalInvestment:0,currentValue:0};Object.keys(e.data.data.quotes).map((function(a,r){var n=e.data.data.quotes[a].price;t.totalInvestment=t.totalInvestment+n.user_holdings.TotalPrice,t.currentValue=t.currentValue+n.user_holdings.quantity*n.regularMarketPrice})),n(t)})).catch((function(e){console.log(e)}));else{var e={totalInvestment:0,currentValue:0},t=x.user.stats.map((function(e){return e.key}));t.map((function(e){j[e].price.user_holdings=x.user.stats.find((function(t){return t.key===e}))})),t.map((function(t,a){var r=j[t].price;e.totalInvestment=e.totalInvestment+r.user_holdings.TotalPrice,e.currentValue=e.currentValue+r.user_holdings.quantity*r.regularMarketPrice})),n(e)}return function(){}}),[x,j]),Object(b.jsx)(s.a,{sx:{mb:1,display:"flex",height:"fit-content"},children:null!==a?Object(b.jsxs)(c.a,{spacing:1,container:!0,justifyContent:"space-evenly",alignItems:"flex-start",children:[Object(b.jsx)(c.a,{item:!0,xs:12,md:6,lg:2,children:Object(b.jsxs)(l.a,{sx:{textAlign:"center",backgroundColor:"primary.dark"},children:[Object(b.jsx)(o.a,{variant:"subtitle2",children:"Total Value"}),Object(b.jsx)(o.a,{variant:"button",display:"block",children:(+x.user.currentWalletValue+ +a.currentValue).toFixed(2)})]})}),Object(b.jsx)(c.a,{item:!0,xs:12,md:6,lg:2,children:Object(b.jsxs)(l.a,{sx:{textAlign:"center",backgroundColor:"primary.dark"},children:[Object(b.jsx)(o.a,{variant:"subtitle2",children:"Investment"}),Object(b.jsx)(o.a,{variant:"button",display:"block",children:a.totalInvestment})]})}),Object(b.jsx)(c.a,{item:!0,xs:12,md:6,lg:2,children:Object(b.jsxs)(l.a,{sx:{textAlign:"center",backgroundColor:"primary.dark"},children:[Object(b.jsx)(o.a,{variant:"subtitle2",children:"Funds Available"}),Object(b.jsx)(o.a,{variant:"button",display:"block",children:x.user.currentWalletValue.toFixed(2)})]})})]}):Object(b.jsx)(h.a,{})})}},224:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));a(0);var r=a(305),n=a(4),i=a(3),s=[{field:"id",headerName:"ID",width:90},{field:"firstName",headerName:"First name",width:150,editable:!0},{field:"lastName",headerName:"Last name",width:150,editable:!0},{field:"age",headerName:"Age",type:"number",width:110,editable:!0},{field:"fullName",headerName:"Full name",description:"This column has a value getter and is not sortable.",sortable:!1,width:160,valueGetter:function(e){return"".concat(e.getValue(e.id,"firstName")||""," ").concat(e.getValue(e.id,"lastName")||"")}}],c=[{id:1,lastName:"Snow",firstName:"Jon",age:35},{id:2,lastName:"Lannister",firstName:"Cersei",age:42},{id:3,lastName:"Lannister",firstName:"Jaime",age:45},{id:4,lastName:"Stark",firstName:"Arya",age:16},{id:5,lastName:"Targaryen",firstName:"Daenerys",age:null},{id:6,lastName:"Melisandre",firstName:null,age:150},{id:7,lastName:"Clifford",firstName:"Ferrara",age:44},{id:8,lastName:"Frances",firstName:"Rossini",age:36},{id:9,lastName:"Roxie",firstName:"Harvey",age:65},{id:10,lastName:"Snow",firstName:"Jon",age:35},{id:12,lastName:"Lannister",firstName:"Cersei",age:42},{id:13,lastName:"Lannister",firstName:"Jaime",age:45}];function l(e){var t=e.count,a=e.columns,l=e.demodata,o=e.height,d=Object(n.f)();return Object(i.jsx)("div",{style:{height:o||600,width:"100%"},children:Object(i.jsx)(r.a,{rows:l||c,onRowClick:function(e){d("/details?id=".concat(e.row.symbol))},columns:a||s,pageSize:t||9,rowsPerPageOptions:t?[t]:[9],disableSelectionOnClick:!0})})}},269:function(e,t,a){"use strict";var r=a(151);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(155)),i=a(3),s=(0,n.default)((0,i.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack");t.default=s},530:function(e,t,a){"use strict";var r=a(16),n=a(6),i=a(2),s=a(0),c=(a(7),a(35)),l=a(129),o=a(34),d=a(54),u=a(164),m=a(3),f=Object(u.a)(Object(m.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person"),h=a(113),b=a(130);function j(e){return Object(h.a)("MuiAvatar",e)}Object(b.a)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var x=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],g=Object(o.a)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:function(e,t){var a=e.ownerState;return[t.root,t[a.variant],a.colorDefault&&t.colorDefault]}})((function(e){var t=e.theme,a=e.ownerState;return Object(i.a)({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},"rounded"===a.variant&&{borderRadius:t.shape.borderRadius},"square"===a.variant&&{borderRadius:0},a.colorDefault&&{color:t.palette.background.default,backgroundColor:"light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[600]})})),p=Object(o.a)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:function(e,t){return t.img}})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),v=Object(o.a)(f,{name:"MuiAvatar",slot:"Fallback",overridesResolver:function(e,t){return t.fallback}})({width:"75%",height:"75%"});var O=s.forwardRef((function(e,t){var a=Object(d.a)({props:e,name:"MuiAvatar"}),o=a.alt,u=a.children,f=a.className,h=a.component,b=void 0===h?"div":h,O=a.imgProps,y=a.sizes,N=a.src,k=a.srcSet,w=a.variant,S=void 0===w?"circular":w,I=Object(n.a)(a,x),A=null,C=function(e){var t=e.crossOrigin,a=e.referrerPolicy,n=e.src,i=e.srcSet,c=s.useState(!1),l=Object(r.a)(c,2),o=l[0],d=l[1];return s.useEffect((function(){if(n||i){d(!1);var e=!0,r=new Image;return r.onload=function(){e&&d("loaded")},r.onerror=function(){e&&d("error")},r.crossOrigin=t,r.referrerPolicy=a,r.src=n,i&&(r.srcset=i),function(){e=!1}}}),[t,a,n,i]),o}(Object(i.a)({},O,{src:N,srcSet:k})),D=N||k,P=D&&"error"!==C,R=Object(i.a)({},a,{colorDefault:!P,component:b,variant:S}),V=function(e){var t=e.classes,a={root:["root",e.variant,e.colorDefault&&"colorDefault"],img:["img"],fallback:["fallback"]};return Object(l.a)(a,j,t)}(R);return A=P?Object(m.jsx)(p,Object(i.a)({alt:o,src:N,srcSet:k,sizes:y,ownerState:R,className:V.img},O)):null!=u?u:D&&o?o[0]:Object(m.jsx)(v,{className:V.fallback}),Object(m.jsx)(g,Object(i.a)({as:b,ownerState:R,className:Object(c.a)(V.root,f),ref:t},I,{children:A}))}));t.a=O},580:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return S}));var r=a(16),n=a(5),i=a(0),s=a(132),c=a(599),l=a(471),o=a(530),d=a(34),u=a(598),m=a(512),f=a(224),h=a(269),b=a.n(h),j=a(45),x=a(36),g=a(133),p=a(56),v=a.n(p),O=a(188),y=a(57),N=a(3),k=Object(d.a)(c.a)((function(e){var t=e.theme;return Object(n.a)(Object(n.a)({},t.typography.body2),{},{padding:t.spacing(1),textAlign:"center",color:t.palette.text.secondary})})),w=[{field:"id",headerName:"ID",width:90},{field:"stockId",headerName:"Stock Id",width:120},{field:"stockName",headerName:"StockName",width:120},{field:"type",headerName:"Type",width:80},{field:"quantity",headerName:"Quantity",type:"number",width:100},{field:"price",headerName:"At Price",type:"number",width:110},{field:"on",headerName:"On",type:"dateTime",width:130}];function S(){var e=i.useState([]),t=Object(r.a)(e,2),a=t[0],n=t[1],d=i.useState(!1),h=Object(r.a)(d,2),p=h[0],S=h[1],I=i.useContext(x.a).authState.auth.data;return i.useEffect((function(){return I&&(S(!0),v.a.get(y.a+"/api/transactions",{headers:{Authorization:"Brearer ".concat(I.token)}}).then((function(e){var t=e.data.data.transactions.map((function(e,t){var a=new Date(e.createdAt);return{id:t+1,stockId:e.stockId,stockName:e.stockName,type:e.type,quantity:e.quantity,price:e.price,on:a.toLocaleDateString()}}));n(t),S(!1)})).catch((function(e){S(!1),console.log(e)}))),function(){}}),[I]),Object(N.jsx)(s.a,{sx:{display:"flex",flexWrap:"wrap",justifyContent:"center",alignContent:"center",width:"100vw",mt:2},children:Object(N.jsxs)(c.a,{elevation:3,sx:{width:"80vw"},children:[Object(N.jsxs)(j.b,{to:{pathname:"/dashboard"},style:{textDecoration:"none"},children:[Object(N.jsxs)(s.a,{sx:{display:"flex",flexWrap:"wrap"},children:[Object(N.jsx)(b.a,{color:"primary",sx:{m:2}}),Object(N.jsx)(u.a,{sx:{mt:2},children:"Dashboard"})]})," "]}),Object(N.jsx)(s.a,{sx:{flexGrow:1,mb:5,ml:5,mr:5},children:Object(N.jsxs)(l.a,{container:!0,spacing:2,children:[Object(N.jsx)(l.a,{item:!0,xs:12,md:4,children:Object(N.jsxs)(k,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(N.jsx)(o.a,{sx:{height:"6rem",width:"6rem",fontSize:36,backgroundColor:"rgba(148, 31, 51)"},children:I.user.firstName[0]}),Object(N.jsx)(u.a,{variant:"h5",sx:{mt:1},children:I.user.firstName+" "+I.user.lastName}),Object(N.jsx)(u.a,{variant:"subtitle",sx:{mt:1},children:I.user.email}),Object(N.jsx)(m.a,{sx:{mt:3,width:"100%",mb:3}}),"Current Wallet",Object(N.jsxs)(u.a,{variant:"h4",sx:{mt:1},children:["$",I.user.currentWalletValue.toFixed(2)]})]})}),Object(N.jsxs)(l.a,{item:!0,xs:12,md:8,children:[Object(N.jsx)(O.a,{}),Object(N.jsx)(u.a,{sx:{mb:"5px",fontWeight:"bold"},children:"Transactions"}),p?Object(N.jsx)(s.a,{sx:{height:500,display:"flex",justifyContent:"center",alignItems:"center",opacity:.8},children:Object(N.jsx)(g.a,{})}):Object(N.jsx)(f.a,{count:8,columns:w,demodata:a,height:500})]})]})})]})})}}}]);
//# sourceMappingURL=10.3d35469f.chunk.js.map