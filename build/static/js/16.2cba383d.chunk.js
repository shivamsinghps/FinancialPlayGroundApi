(this.webpackJsonpccapp=this.webpackJsonpccapp||[]).push([[16],{596:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return U}));var r=a(19),n=a(4),c=a(0),i=a.n(c),s=a(607),o=a(138),l=a(606),d=a(479),j=a(520),b=a(276),x=a.n(b),h=a(50),p=a(38),u=a(190),m=a(586),O=a(587),g=a(529),y=a(530),f=a(541),v=a(2);function k(e){var t=e.chartData,a=Object(u.a)(),r=t.map((function(e){return{time:e.date.slice(8,10),amount:e.open}}));return Object(v.jsx)(c.Fragment,{children:Object(v.jsx)(m.a,{children:Object(v.jsxs)(O.a,{data:r,margin:{top:16,right:16,bottom:10},children:[Object(v.jsx)(g.a,{dataKey:"time",stroke:a.palette.text.secondary,style:a.typography.body2}),Object(v.jsx)(y.a,{stroke:a.palette.text.secondary,style:a.typography.body2}),Object(v.jsx)(f.a,{isAnimationActive:!1,type:"monotone",dataKey:"amount",stroke:a.palette.primary.main,dot:!1})]})})})}var w=a(608),C=a(537),D=a(506);function E(e){var t=e.news;return Object(v.jsx)(w.a,{sx:{width:"100%",height:260,bgcolor:"background.paper",overflow:"auto","&::-webkit-scrollbar":{width:"0.2em"},"&::-webkit-scrollbar-track":{boxShadow:"inset 0 0 6px rgba(0,0,0,0.00)",webkitBoxShadow:"inset 0 0 6px rgba(0,0,0,0.00)"},"&::-webkit-scrollbar-thumb":{backgroundColor:"rgba(0,0,0,.1)",outline:"1px solid slategrey"}},children:t.map((function(e,t){return Object(v.jsxs)("div",{children:[Object(v.jsx)(C.a,{alignItems:"flex-start",children:Object(v.jsx)(D.a,{primary:e.title,secondary:Object(v.jsxs)(c.Fragment,{children:[Object(v.jsx)(l.a,{sx:{display:"inline"},component:"span",variant:"body2",color:"text.primary",children:e.date.slice(0,16)}),Object(v.jsxs)("a",{href:e.link,target:"_blank",children:["-",e.description.slice(0,50),"..."]})]})})}),Object(v.jsx)(j.a,{variant:"inset",component:"li"})]},t)}))})}var F=a(613);function I(e){var t=e.details;return console.log("kk",t),Object(v.jsxs)(w.a,{sx:{width:"100%",height:260,bgcolor:"background.paper",overflow:"auto","&::-webkit-scrollbar":{width:"0.2em"},"&::-webkit-scrollbar-track":{boxShadow:"inset 0 0 6px rgba(0,0,0,0.00)",webkitBoxShadow:"inset 0 0 6px rgba(0,0,0,0.00)"},"&::-webkit-scrollbar-thumb":{backgroundColor:"rgba(0,0,0,.1)",outline:"1px solid slategrey"}},children:[Object(v.jsx)(C.a,{alignItems:"flex-start",children:Object(v.jsx)(D.a,{secondary:Object(v.jsxs)(c.Fragment,{children:[Object(v.jsx)(l.a,{sx:{display:"inline",mr:1,fontWeight:"bold"},component:"span",variant:"body2",color:"text.primary",children:"Current Price"}),Object(v.jsxs)(l.a,{color:"primary",children:["$ ",t.price.regularMarketPrice]})]})})}),Object(v.jsx)(j.a,{variant:"inset",component:"li"}),Object(v.jsx)(C.a,{alignItems:"flex-start",children:Object(v.jsx)(D.a,{secondary:Object(v.jsxs)(c.Fragment,{children:[Object(v.jsx)(l.a,{sx:{display:"inline",mr:1,fontWeight:"bold"},component:"span",variant:"body2",color:"text.primary",children:"Today High"}),Object(v.jsxs)(l.a,{color:"primary",children:["$ ",t.price.regularMarketDayHigh]})]})})}),Object(v.jsx)(j.a,{variant:"inset",component:"li"}),Object(v.jsx)(C.a,{alignItems:"flex-start",children:Object(v.jsx)(D.a,{secondary:Object(v.jsxs)(c.Fragment,{children:[Object(v.jsx)(l.a,{sx:{display:"inline",mr:1,fontWeight:"bold"},component:"span",variant:"body2",color:"text.primary",children:"Todat Low"}),Object(v.jsxs)(l.a,{color:"primary",children:["$ ",t.price.regularMarketDayLow]})]})})}),Object(v.jsx)(j.a,{variant:"inset",component:"li"}),Object(v.jsx)(C.a,{alignItems:"flex-start",children:Object(v.jsx)(D.a,{secondary:Object(v.jsxs)(c.Fragment,{children:[Object(v.jsx)(l.a,{sx:{display:"inline",mr:1,fontWeight:"bold"},component:"span",variant:"body2",color:"text.primary",children:"Open"}),Object(v.jsxs)(l.a,{color:"primary",children:["$ ",t.price.regularMarketOpen]})]})})}),Object(v.jsx)(j.a,{variant:"inset",component:"li"}),Object(v.jsx)(C.a,{alignItems:"flex-start",children:Object(v.jsx)(D.a,{secondary:Object(v.jsxs)(c.Fragment,{children:[Object(v.jsx)(l.a,{sx:{display:"inline",mr:1,fontWeight:"bold"},component:"span",variant:"body2",color:"text.primary",children:"Prev. Close"}),Object(v.jsxs)(l.a,{color:"primary",children:["$ ",t.price.regularMarketPreviousClose]})]})})}),Object(v.jsx)(j.a,{variant:"inset",component:"li"}),Object(v.jsx)(C.a,{alignItems:"flex-start",children:Object(v.jsx)(D.a,{secondary:Object(v.jsxs)(c.Fragment,{children:[Object(v.jsx)(l.a,{sx:{display:"inline",mr:1,fontWeight:"bold"},component:"span",variant:"body2",color:"text.primary",children:"Volume"}),Object(v.jsxs)(l.a,{color:"primary",children:["$ ",t.price.regularMarketVolume]})]})})}),Object(v.jsx)(j.a,{variant:"inset",component:"li"}),Object(v.jsx)(C.a,{alignItems:"flex-start",children:Object(v.jsx)(D.a,{secondary:Object(v.jsxs)(c.Fragment,{children:[Object(v.jsx)(l.a,{sx:{display:"inline",mr:1,fontWeight:"bold"},component:"span",variant:"body2",color:"text.primary",children:"Change"}),Object(v.jsxs)(l.a,{color:"primary",children:["$ ",t.price.regularMarketChange]})]})})}),Object(v.jsx)(j.a,{variant:"inset",component:"li"}),Object(v.jsx)(C.a,{alignItems:"flex-start",children:Object(v.jsx)(D.a,{secondary:Object(v.jsxs)(c.Fragment,{children:[Object(v.jsx)(l.a,{sx:{display:"inline",mr:1,fontWeight:"bold"},component:"span",variant:"body2",color:"text.primary",children:"Change Percentage"}),Object(v.jsxs)(l.a,{color:"primary",children:["% ",(100*t.price.regularMarketChangePercent).toFixed(2)]})]})})})]})}var T=a(40),A=a(139),P=a(61),L=a.n(P),S=a(609),N=a(595),W=a(7),H=a(531),B=a.n(H),M={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:250,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:2,borderRadius:4};function $(e){var t=e.text,a=e.curentPrice,i=e.stockId,s=e.stockName,d=c.useContext(T.a),j=d.authDispatch,b=d.authState.auth,x=b.data,h=b.loading,p=c.useState(!1),u=Object(r.a)(p,2),m=u[0],O=u[1],g=c.useState(0),y=Object(r.a)(g,2),f=y[0],k=y[1],w=function(e){k(0);var t={atPrice:a,quantity:f,stockId:i,stockName:s};console.log(t),function(e){var t=e.url,a=e.reqParams,r=e.token;return function(e){e({type:W.c}),L.a.post(t,Object(n.a)({},a),{headers:{Authorization:"Brearer ".concat(r)}}).then((function(t){localStorage.data=JSON.stringify(t.data.data),e({type:W.j,payload:t.data.data.user})})).catch((function(t){e({type:W.b,payload:t.response?t.response.data:"COULD NOT CONNECT"})}))}}({url:"BUY"===e?"http://localhost:9001/api/buy":"http://localhost:9001/api/sell",reqParams:t,token:x.token})(j)};return Object(v.jsxs)("div",{children:[Object(v.jsx)(S.a,{sx:{backgroundColor:"BUY"===t?"green":"primary",width:{xs:"6rem",md:"8rem",lg:"10rem"}},onClick:function(){return O(!0)},children:t}),Object(v.jsx)(N.a,{open:m,onClose:function(){return O(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:h?Object(v.jsx)(o.a,{sx:{display:"flex",height:"100vh",justifyContent:"center",alignItems:"center",opacity:.8},children:Object(v.jsx)(A.a,{})}):Object(v.jsxs)(o.a,{sx:M,children:[Object(v.jsx)(B.a,{sx:{float:"right",mb:1},onClick:function(){return O(!1)}}),Object(v.jsxs)(F.a,{size:"small","aria-label":"small outlined button group",children:[Object(v.jsx)(l.a,{sx:{fontWeight:"bold",mr:2},children:"Quantity"}),Object(v.jsx)(S.a,{disabled:f<1,onClick:function(){k(f-1)},children:"-"}),Object(v.jsx)(S.a,{children:f}),Object(v.jsx)(S.a,{onClick:function(){k(f+1)},children:"+"})]}),Object(v.jsxs)(F.a,{sx:{width:"100%",mt:2},size:"small","aria-label":"small outlined button group",children:[Object(v.jsx)(l.a,{sx:{fontWeight:"bold",mr:3},children:"Amount"}),Object(v.jsx)(S.a,{children:(f*a).toFixed(4)})]}),Object(v.jsx)(S.a,{sx:{backgroundColor:"BUY"===t?"green":"primary",mt:3,width:{xs:"6rem",md:"8rem",lg:"10rem"}},onClick:function(){return w(t)},disabled:0===f,children:t})]})})]})}var _=Object(p.a)(s.a)((function(e){var t=e.theme;return Object(n.a)(Object(n.a)({},t.typography.subtitle1),{},{padding:t.spacing(1),textAlign:"left",color:t.palette.text.secondary,overflow:"auto",fontWeight:"bold"})})),q=function(e,t){switch(t.type){case"NEWS_FETCHED":return Object(n.a)(Object(n.a)({},e),{},{news:t.payload,newsLoading:!1});case"DETAILS_FETCHED":return Object(n.a)(Object(n.a)({},e),{},{details:t.payload,detailsLoading:!1});case"CHART_DATA_FETCHED":return Object(n.a)(Object(n.a)({},e),{},{chartData:t.payload,chartLoading:!1});default:return e}},z={news:[],newsLoading:!0,details:null,detailsLoading:!0,chartData:null,chartLoading:!0,data:null,stat:null,statLoading:!0};function U(){var e,t,a,n,c,b,p=i.a.useReducer(q,z),u=Object(r.a)(p,2),m=u[0],O=u[1],g=Object(h.c)(),y=Object(r.a)(g,1)[0].get("id"),f=i.a.useContext(T.a).authState.auth.data,w=f.user.stats.filter((function(e){return e.key===y}))[0];return i.a.useEffect((function(){y&&f&&L.a.post("http://localhost:9001/api/getNews",{stockId:y},{headers:{Authorization:"Brearer ".concat(f.token)}}).then((function(e){O({type:"NEWS_FETCHED",payload:e.data.data.news})})).catch((function(e){console.log(e)}))}),[y,f]),i.a.useEffect((function(){y&&f&&L.a.post("http://localhost:9001/api/getData",{stockId:y},{headers:{Authorization:"Brearer ".concat(f.token)}}).then((function(e){O({type:"DETAILS_FETCHED",payload:e.data.data.quotes})})).catch((function(e){console.log(e)}))}),[y,f]),i.a.useEffect((function(){y&&f&&L.a.post("http://localhost:9001/api/history",{stockId:y},{headers:{Authorization:"Brearer ".concat(f.token)}}).then((function(e){O({type:"CHART_DATA_FETCHED",payload:e.data.data.quotes})})).catch((function(e){console.log(e)}))}),[y,f]),Object(v.jsx)(o.a,{sx:{display:"flex",flexWrap:"wrap",justifyContent:"center",alignContent:"center",height:{xs:"200vh",md:"100vh"},width:"100vw",backgroundColor:"rgba(148, 31, 51, 0.05)"},children:Object(v.jsxs)(s.a,{elevation:3,sx:{width:"80vw"},children:[Object(v.jsxs)(h.b,{to:{pathname:"/dashboard"},style:{textDecoration:"none"},children:[Object(v.jsxs)(o.a,{sx:{display:"flex",flexWrap:"wrap"},children:[Object(v.jsx)(x.a,{color:"primary",sx:{m:2}}),Object(v.jsx)(l.a,{sx:{mt:2},children:"Dashboard"})]})," "]}),Object(v.jsx)(o.a,{sx:{flexGrow:1,mb:5,ml:5,mr:5},children:Object(v.jsxs)(d.a,{container:!0,spacing:2,justifyContent:"space-around",children:[Object(v.jsx)(d.a,{item:!0,xs:12,md:7,sx:{height:320},children:m.chartLoading?Object(v.jsx)(A.a,{}):Object(v.jsx)(k,{chartData:m.chartData})}),Object(v.jsx)(d.a,{item:!0,xs:12,md:4,sx:{height:320},children:Object(v.jsxs)(_,{children:["  ",m.details&&m.details.price.shortName," (",m.details&&m.details.price.symbol,")",Object(v.jsxs)(F.a,{variant:"contained","aria-label":"outlined primary button group",sx:{ml:2},children:[Object(v.jsx)($,{text:"BUY",curentPrice:null===(e=m.details)||void 0===e?void 0:e.price.regularMarketPrice,stockId:null===(t=m.details)||void 0===t?void 0:t.price.symbol,stockName:null===(a=m.details)||void 0===a?void 0:a.price.shortName}),Object(v.jsx)($,{text:"SELL",curentPrice:null===(n=m.details)||void 0===n?void 0:n.price.regularMarketPrice,stockId:null===(c=m.details)||void 0===c?void 0:c.price.symbol,stockName:null===(b=m.details)||void 0===b?void 0:b.price.shortName})]}),Object(v.jsx)(_,{sx:{p:1,m:2,textAlign:"center",height:140},children:w?Object(v.jsxs)(v.Fragment,{children:[" ",Object(v.jsxs)(l.a,{variant:"body2",children:["No. Of Shares in Holding ",Object(v.jsx)("br",{})," #"," ",Object(v.jsx)("strong",{children:w.quantity})]}),Object(v.jsx)(j.a,{}),Object(v.jsxs)(l.a,{variant:"body2",children:["Average Price of share holdings ",Object(v.jsx)("br",{}),"$"," ",Object(v.jsxs)("strong",{children:[" ",w.TotalPrice/w.quantity]})]}),Object(v.jsx)(j.a,{}),Object(v.jsxs)(l.a,{variant:"body2",children:["Total Price of share holdings ",Object(v.jsx)("br",{}),"$"," ",Object(v.jsxs)("strong",{children:[" ",w.TotalPrice]})]})]}):Object(v.jsx)(l.a,{variant:"subtitle1",children:"You Do not have this share in your portfolio"})})]})}),Object(v.jsx)(d.a,{item:!0,xs:12,md:7,sx:{height:320,m:1},children:Object(v.jsxs)(_,{children:["News",m.newsLoading?Object(v.jsx)(A.a,{}):Object(v.jsx)(E,{news:m.news})]})}),Object(v.jsx)(d.a,{item:!0,xs:12,md:4,sx:{height:320,m:1},children:Object(v.jsxs)(_,{children:["Details",m.detailsLoading?Object(v.jsx)(A.a,{}):Object(v.jsx)(I,{details:m.details})]})})]})})]})})}}}]);
//# sourceMappingURL=16.2cba383d.chunk.js.map